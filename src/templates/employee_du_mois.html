
{% comment %}
Template: employee_du_mois.html
Vue: BestEmployeeView (TemplateView)
Contexte fourni:
- total_depense_employee: Liste avec le top 1 employ√© par d√©penses
- most_rapport_by_employee: Liste avec le top 1 employ√© par nombre de rapports
- top_commerciaux: Liste avec le top 1 commercial par CA g√©n√©r√©
{% endcomment %}

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Employ√© du Mois</title>
</head>
<body>
    <h1>üéØ Employ√©s Performants du Mois</h1>
    
    {% comment %} Section 1: Meilleur commercial par CA {% endcomment %}
    {% if top_commerciaux %}
        {% for commercial in top_commerciaux %}
        <section>
            <h2>üèÜ Meilleur Commercial</h2>
            <p><strong>Nom:</strong> {{ commercial.username }}</p>
            <p><strong>CA G√©n√©r√©:</strong> {{ commercial.ca_genere|default:"0" }} FCFA</p>
            <p><strong>Clients Amen√©s:</strong> {{ commercial.clients_amenes }}</p>
            <p><strong>Contrats Sign√©s:</strong> {{ commercial.contrats_signes }}</p>
            <p><strong>Chantiers en cours:</strong> {{ commercial.chantier_status_en_cours }}</p>
            <p><strong>Chantiers termin√©s:</strong> {{ commercial.chantier_status_termine }}</p>
        </section>
        {% endfor %}
    {% endif %}
    
    {% comment %} Section 2: Employ√© avec le plus de d√©penses {% endcomment %}
    {% if total_depense_employee %}
        {% for emp in total_depense_employee %}
        <section>
            <h2>üí∞ D√©penses Engag√©es</h2>
            <p><strong>Nom:</strong> {{ emp.employee__username }}</p>
            <p><strong>Total D√©pens√©:</strong> {{ emp.total_depense|default:"0" }} FCFA</p>
        </section>
        {% endfor %}
    {% endif %}
    
    {% comment %} Section 3: Employ√© avec le plus de rapports {% endcomment %}
    {% if rapports_employee %}
        {% for emp in rapports_employee %}
        <section>
            <h2>üìä Productivit√© Rapports</h2>
            <p><strong>Nom:</strong> {{ emp.employee__username }}</p>
            <p><strong>Nombre de Rapports:</strong> {{ emp.total_rapports }}</p>
        </section>
        {% endfor %}
    {% endif %}
    
    {% comment %} Message si aucune donn√©e {% endcomment %}
    {% if not top_commerciaux and not total_depense_employee and not most_rapport_by_employee %}
        <p>Aucune donn√©e disponible pour le mois en cours.</p>
    {% endif %}
</body>
</html>

    
    